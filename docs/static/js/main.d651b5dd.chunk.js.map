{"version":3,"sources":["reportWebVitals.js","views/App.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","size","shape","0","id","texture","radius","1","2","3","4","5","6","7","8","9","10","App","state","title","width","height","maxShapeId","nextShape","nextObj","canvas","document","getElementById","engine","Matter","Engine","create","render","Render","options","wireframes","this","background","groundBottom","Bodies","rectangle","isStatic","groundLeft","groundRight","Composite","add","world","objShape","Math","round","random","console","log","setState","circle","collisionFilter","category","mask","sprite","xScale","yScale","addEventListener","event","obj","layerX","restitution","label","remove","Events","on","pairs","i","length","pair","bodyA","bodyB","objA","objB","x","position","y","setTimeout","alert","run","runner","Runner","className","Component","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.d651b5dd.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { Component } from \"react\";\nimport Matter from \"matter-js\";\nimport \"./App.css\";\n\nlet size = 0.5\nlet shape = {\n  0:{\n    id:0,\n    texture: \"/react-learn/image/1.png\",\n    radius:204\n  },\n  1:{\n    id:1,\n    texture: \"/react-learn/image/2.png\",\n    radius:154\n  },\n  2:{\n    id:2,\n    texture: \"/react-learn/image/3.png\",\n    radius:154\n  },\n  3:{\n    id:3,\n    texture: \"/react-learn/image/4.png\",\n    radius:124\n  },\n  4:{\n    id:4,\n    texture: \"/react-learn/image/5.png\",\n    radius:96\n  },\n  5:{\n    id:5,\n    texture: \"/react-learn/image/6.png\",\n    radius:91\n  },\n  6:{\n    id:6,\n    texture: \"/react-learn/image/7.png\",\n    radius:76\n  },\n  7:{\n    id:7,\n    texture: \"/react-learn/image/8.png\",\n    radius:59\n  },\n  8:{\n    id:8,\n    texture: \"/react-learn/image/9.png\",\n    radius:54\n  },\n  9:{\n    id:9,\n    texture: \"/react-learn/image/10.png\",\n    radius:40\n  },\n  10:{\n    id:10,\n    texture: \"/react-learn/image/11.png\",\n    radius:26\n  }\n}\n\nexport default class App extends Component {\n  state = {\n    title: \"合成大西瓜\",\n    width : 450,\n    height : 800,\n    maxShapeId:10,\n    nextShape:null,\n    nextObj:null,\n  };\n\n  componentDidMount() {\n    const canvas = document.getElementById(\"container\")\n    let engine = Matter.Engine.create();\n    let render = Matter.Render.create({\n      canvas,\n      engine,\n      options: {\n        wireframes: false,\n        width:this.state.width,\n        height:this.state.height,\n        background: \"#e2e2e2\",\n      },\n    });\n\n    const width = this.state.width;\n    const height = this.state.height;\n    let groundBottom = Matter.Bodies.rectangle(width / 2, height+31, width, 60, {\n      isStatic: true,\n    });\n    let groundLeft = Matter.Bodies.rectangle(-31, height / 2, 60, height, {\n      isStatic: true,\n    });\n    let groundRight = Matter.Bodies.rectangle(width+31, height / 2, 60, height, {\n      isStatic: true,\n    });\n    Matter.Composite.add(engine.world, [\n      groundBottom,\n      groundLeft,\n      groundRight,\n    ]);\n\n    let objShape = shape[(Math.round(Math.random()*5)+5)]\n    console.log(objShape)\n    this.setState({\n      nextShape:objShape,\n      maxShapeId:5,\n    },()=>{\n      let nextObj = Matter.Bodies.circle(\n        this.state.width/2,\n        50,\n        this.state.nextShape.radius*size,\n        {\n          isStatic: true,\n          collisionFilter:{\n            category: 0x0001,\n            mask:0x0001,\n          },\n          render:{\n            sprite:{\n              texture:this.state.nextShape.texture,\n              xScale:size,\n              yScale:size\n            }\n          }\n        }\n      );\n      Matter.Composite.add(engine.world, nextObj);\n      this.setState({\n        nextObj:nextObj,\n      },()=>{\n        canvas.addEventListener('click', event => {\n          console.log(this.state.maxShapeId)\n          let obj = Matter.Bodies.circle(\n            event.layerX,\n            -50,\n            this.state.nextShape.radius*size,\n            {\n              restitution:0.3,\n              collisionFilter:{\n                category: 0x0002,\n              },\n              render:{\n                sprite:{\n                  texture:this.state.nextShape.texture,\n                  xScale:size,\n                  yScale:size\n                }\n              }\n            }\n          );\n          obj.label = this.state.nextShape.id;\n          Matter.Composite.add(engine.world, obj);\n          let objShape = shape[(Math.round(Math.random()*(10-this.state.maxShapeId))+this.state.maxShapeId)]\n          this.setState({\n            nextShape:objShape,\n          },()=>{\n            let nextObj = Matter.Bodies.circle(\n              this.state.width/2,\n              50,\n              this.state.nextShape.radius*size,\n              {\n                isStatic: true,\n                collisionFilter:{\n                  category: 0x0001,\n                  mask:0x0001,\n                },\n                render:{\n                  sprite:{\n                    texture:this.state.nextShape.texture,\n                    xScale:size,\n                    yScale:size\n                  }\n                }\n              }\n            );\n            Matter.Composite.remove(engine.world, this.state.nextObj);\n            Matter.Composite.add(engine.world, nextObj);\n            this.setState({\n              nextObj:nextObj,\n            });\n          })\n        });\n      })\n    })\n\n\n    Matter.Events.on(engine, 'collisionStart', (event)=> {\n      let pairs = event.pairs;\n      console.log(event)\n      for (let i = 0; i < pairs.length; i++) {\n        let pair = pairs[i];\n        if(pair.bodyA.label===pair.bodyB.label){\n          let objA = pair.bodyA,objB = pair.bodyB;\n          let x = (objA.position.x + objB.position.x)/2;\n          let y = (objA.position.y + objB.position.y)/2;\n          let objShape = shape[objA.label-1];\n          Matter.Composite.remove(engine.world, [\n            objA,\n            objB,\n          ]);\n          let obj = Matter.Bodies.circle(\n            x,\n            y,\n            objShape.radius*size,\n            {\n              restitution:0.3,\n              collisionFilter:{\n                category: 0x0002,\n              },\n              render:{\n                sprite:{\n                  texture:objShape.texture,\n                  xScale:size,\n                  yScale:size\n                }\n              }\n            }\n          );\n          obj.label = objShape.id;\n          Matter.Composite.add(engine.world, obj);\n          if(~~objA.label===1){\n            setTimeout(()=>{\n              alert(\"你已经合成出了大西瓜，获胜！\");\n            },1000);\n            return;\n          }\n        }\n      }\n    });\n\n    Matter.Render.run(render);\n\n    let runner = Matter.Runner.create();\n\n    Matter.Runner.run(runner, engine);\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"title\">{this.state.title}</div>\n        <div className=\"canvas\">\n          <canvas id=\"container\" width=\"400\" height=\"700\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport App from \"./views/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n);\n\nreportWebVitals();\n"],"sourceRoot":""}